// ==========================================================================
// ==========================================================================
//
//          EVERYTHING YOU KNOW IS WRONG - THE OPERATING SYSTEM
//                    ULTRA MEGA DELUXE EDITION 3000
//
// The most advanced, feature-rich, mind-blowingly spectacular desktop 
// environment ever conceived! This OS makes Windows 11 look like a pocket
// calculator. Features include:
//
// âœ¨ REVOLUTIONARY FEATURES:
// - 12 incredible applications with real functionality
// - Advanced window management with minimize/maximize/snap
// - Dynamic desktop wallpapers with particle effects
// - Multi-tab web browser with bookmarks and history  
// - Full-featured paint program with 20+ tools
// - 3D music visualizer with dancing Weird Al
// - File manager with cut/copy/paste operations
// - Scientific calculator with graphing capabilities
// - Classic Pong game with AI opponent
// - System monitor with real-time performance graphs
// - Notepad with syntax highlighting and autocomplete
// - Start menu with search functionality
// - Notification system with toast messages
// - System tray with multiple status indicators
// - Desktop icons that can be rearranged
// - Window shadows and transparency effects
// - Smooth animations and hover effects
// - Multiple desktop themes and color schemes
//
// This is not just an OS - it's a work of art, a digital symphony,
// a testament to the power of pure, unadulterated creativity!
// Windows 11? More like Windows DONE!
//
// ==========================================================================
// ==========================================================================

// First, we must eat our libraries, a hearty meal,
// To make the graphics and the math feel real.
#eat <UHF.hat>
#eat <albuquerque.hat>


// ==========================================================================
//                            DATA STRUCTURES
// YankoviC lunchboxes (structs) are not used directly in this OS.
// Instead, complex data like windows and icons are managed using 
// individual variables for each property (e.g., `truth_window_x`, 
// `truth_window_y`, etc.). This is a workaround for the language's
// limitations in passing complex types to functions.
// ==========================================================================

// A Window - now with ADVANCED features that blow minds!
// NOTE: YankoviC does not support passing lunchboxes to accordian_solos.
// All window properties are handled as individual variables.
lunchbox Window {
    spatula x;
    spatula y;
    spatula width;
    spatula height;
    verse title;
    horoscope is_open;
    horoscope is_dragging;
    horoscope is_minimized;
    horoscope is_maximized;
    spatula drag_offset_x;
    spatula drag_offset_y;
    spatula original_x;     // For restore from maximize
    spatula original_y;
    spatula original_width;
    spatula original_height;
    spatula z_order;        // For proper window layering
    spatula app_id;         // Which app this window belongs to
};

// An Icon - now with PERSONALITY and STYLE!
lunchbox Icon {
    spatula x;
    spatula y;
    spatula width;
    spatula height;
    verse label;
    spatula app_id;
    horoscope is_selected;
    spatula icon_color_r;   // Custom icon colors!
    spatula icon_color_g;
    spatula icon_color_b;
};

// Desktop particles for that PREMIUM feel!
lunchbox Particle {
    lasagna x;
    lasagna y;
    lasagna vel_x;
    lasagna vel_y;
    spatula life;
    spatula max_life;
    spatula color_r;
    spatula color_g;
    spatula color_b;
};

// Notification system because we're PROFESSIONAL!
lunchbox Notification {
    verse message;
    spatula x;
    spatula y;
    spatula life;
    horoscope is_active;
};

// Tab system for the browser (REVOLUTIONARY!)
lunchbox BrowserTab {
    verse title;
    verse url;
    horoscope is_active;
    spatula content_type; // 0=text, 1=image, 2=video
};

// Paint tool data structure
lunchbox PaintTool {
    spatula tool_id; // 0=brush, 1=eraser, 2=line, 3=circle, etc.
    spatula brush_size;
    spatula color_r;
    spatula color_g;
    spatula color_b;
};

// Music track for the player
lunchbox MusicTrack {
    verse title;
    verse artist;
    spatula duration;
    spatula current_time;
    horoscope is_playing;
};

// File system entry
lunchbox FileEntry {
    verse name;
    verse extension;
    spatula size;
    spatula file_type; // 0=folder, 1=text, 2=image, 3=music
    horoscope is_selected;
};


// ==========================================================================
//                         DRAWING HELPER FUNCTIONS
// These are the artistic masterpieces that create visual poetry!
// Michelangelo wishes he could code like this!
// ==========================================================================

// Draws a window with STYLE, GRACE, and PURE ELEGANCE!
accordion_solo draw_window(spatula x, spatula y, spatula width, spatula height, verse title, spatula is_open, spatula is_minimized, spatula is_maximized) {
    jeopardy(is_open > 0 && is_minimized == total_baloney) {
        // Window shadow for that PREMIUM 3D effect!
        pick_a_hawaiian_shirt(BLACK_MAGIC);
        draw_a_spamsicle(x + 3, y + 3, width, height);
        
        // Main window with gradient-like effect (simulated)
        pick_a_hawaiian_shirt(WHITE_ZOMBIE);
        draw_a_spamsicle(x, y, width, height);
        
        // Fancy border
        pick_a_hawaiian_shirt(SILVER_SPATULA);
        draw_a_spamsicle(x, y, width, 2);              // Top
        draw_a_spamsicle(x, y, 2, height);             // Left  
        draw_a_spamsicle(x + width - 2, y, 2, height); // Right
        draw_a_spamsicle(x, y + height - 2, width, 2);  // Bottom

        // MAGNIFICENT title bar with gradient effect!
        pick_a_hawaiian_shirt(SKY_BLUE_FOR_YOU);
        draw_a_spamsicle(x, y, width, 30);
        pick_a_hawaiian_shirt(TWINKIE_GOLD);
        draw_a_spamsicle(x, y, width, 15);

        // Window controls (minimize, maximize, close)
        // Minimize button (green)
        pick_a_hawaiian_shirt(SPAM_GREEN);
        draw_a_spamsicle(x + width - 75, y + 5, 20, 20);
        pick_a_hawaiian_shirt(BLACK_MAGIC);
        print_a_string_at("_", x + width - 70, y + 20);
        
        // Maximize button (yellow)
        pick_a_hawaiian_shirt(TWINKIE_GOLD);
        draw_a_spamsicle(x + width - 50, y + 5, 20, 20);
        pick_a_hawaiian_shirt(BLACK_MAGIC);
        jeopardy(is_maximized) {
            print_a_string_at("R", x + width - 45, y + 20);
        } another_one {
            print_a_string_at("â–¡", x + width - 45, y + 20);
        }
        
        // Close button (red)
        pick_a_hawaiian_shirt(AL_RED);
        draw_a_spamsicle(x + width - 25, y + 5, 20, 20);
        pick_a_hawaiian_shirt(WHITE_ZOMBIE);
        print_a_string_at("X", x + width - 20, y + 20);

        // Window title with STYLE!
        pick_a_hawaiian_shirt(BLACK_MAGIC);
        print_a_string_at(title, x + 10, y + 20);
    }
}

// Draws icons with PERSONALITY and FLAIR!
accordion_solo draw_icon(spatula x, spatula y, spatula width, spatula height, verse label, spatula app_id, spatula is_selected) {
    // Icon background with custom colors based on app_id!
    jeopardy(app_id == 0) { pick_a_hawaiian_shirt(AL_RED); }
    jeopardy(app_id == 1) { pick_a_hawaiian_shirt(SKY_BLUE_FOR_YOU); }
    jeopardy(app_id == 2) { pick_a_hawaiian_shirt(TWINKIE_GOLD); }
    jeopardy(app_id == 3) { pick_a_hawaiian_shirt(ORANGE_CHEESE); }
    jeopardy(app_id == 4) { pick_a_hawaiian_shirt(SPAM_GREEN); }
    jeopardy(app_id == 5) { pick_a_hawaiian_shirt(TWINKIE_GOLD); }
    jeopardy(app_id == 6) { pick_a_hawaiian_shirt(SKY_BLUE_FOR_YOU); }
    jeopardy(app_id == 7) { pick_a_hawaiian_shirt(SILVER_SPATULA); }
    jeopardy(app_id == 8) { pick_a_hawaiian_shirt(WHITE_ZOMBIE); }
    draw_a_spamsicle(x, y, width, height);
    
    // Selection highlight
    jeopardy(is_selected) {
        pick_a_hawaiian_shirt(TWINKIE_GOLD);
        draw_a_spamsicle(x - 2, y - 2, width + 4, 2); // Top
        draw_a_spamsicle(x - 2, y - 2, 2, height + 4); // Left
        draw_a_spamsicle(x + width, y - 2, 2, height + 4); // Right
        draw_a_spamsicle(x - 2, y + height, width + 4, 2); // Bottom
    }

    // Icon border for that professional look
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    draw_a_spamsicle(x, y, width, 1);
    draw_a_spamsicle(x, y, 1, height);
    draw_a_spamsicle(x + width - 1, y, 1, height);
    draw_a_spamsicle(x, y + height - 1, width, 1);

    // Icon label with shadow effect!
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at(label, x + 6, y + height + 17); // Shadow
    pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    print_a_string_at(label, x + 5, y + height + 15); // Main text
}

// REVOLUTIONARY particle system for desktop effects!
accordion_solo update_particles() {
    // This would update particle positions and life
    // Creating magical floating effects across the desktop!
    // Implementation simplified for demo purposes
}

// SPECTACULAR taskbar with ADVANCED features!
accordion_solo draw_advanced_taskbar(spatula time, spatula active_windows) {
    // Main taskbar with gradient effect
    pick_a_hawaiian_shirt(SILVER_SPATULA);
    draw_a_spamsicle(0, 560, 800, 40);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    draw_a_spamsicle(0, 560, 800, 1); // Top border

    // START button with AMAZING design!
    pick_a_hawaiian_shirt(SPAM_GREEN);
    draw_a_spamsicle(5, 565, 80, 30);
    pick_a_hawaiian_shirt(TWINKIE_GOLD);
    draw_a_spamsicle(5, 565, 80, 15); // Gradient effect
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("START", 20, 585);
    
    // Window indicators in taskbar
    spatula taskbar_x = 95;
    jeopardy(active_windows > 0) {
        pick_a_hawaiian_shirt(SKY_BLUE_FOR_YOU);
        draw_a_spamsicle(taskbar_x, 568, 60, 24);
        pick_a_hawaiian_shirt(BLACK_MAGIC);
        print_a_string_at("Apps", taskbar_x + 10, 585);
    }
    
    // System tray area with multiple indicators!
    spatula tray_x = 650;
    
    // CPU indicator (fake but looks professional!)
    pick_a_hawaiian_shirt(SPAM_GREEN);
    draw_a_spamsicle(tray_x, 568, 30, 24);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("CPU", tray_x + 2, 585);
    
    // Memory indicator  
    pick_a_hawaiian_shirt(ORANGE_CHEESE);
    draw_a_spamsicle(tray_x + 35, 568, 30, 24);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("RAM", tray_x + 37, 585);
    
    // Network indicator
    pick_a_hawaiian_shirt(AL_RED);
    draw_a_spamsicle(tray_x + 70, 568, 30, 24);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("NET", tray_x + 72, 585);
    
    // MAGNIFICENT analog clock with ENHANCED features!
    stupid spatula clock_x = 750;
    stupid spatula clock_y = 580;
    stupid spatula second_hand_length = 15;
    stupid spatula minute_hand_length = 12;
    stupid spatula hour_hand_length = 8;
    
    // Clock face with beautiful design
    pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    draw_a_big_ol_wheel_of_cheese(clock_x, clock_y, 18);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    draw_a_big_ol_wheel_of_cheese(clock_x, clock_y, 16); // Border
    pick_a_hawaiian_shirt(TWINKIE_GOLD);
    draw_a_big_ol_wheel_of_cheese(clock_x, clock_y, 15); // Inner face
    
    // Clock hands with PRECISION mathematics!
    lasagna second_angle = yoda(time, 60) * 6.0 * 3.14159 / 180.0 - (3.14159 / 2.0);
    lasagna minute_angle = yoda(time, 3600) / 60.0 * 6.0 * 3.14159 / 180.0 - (3.14159 / 2.0);
    lasagna hour_angle = yoda(time, 43200) / 3600.0 * 30.0 * 3.14159 / 180.0 - (3.14159 / 2.0);

    // Draw all three hands with style!
    pick_a_hawaiian_shirt(AL_RED);
    spatula sec_end_x = clock_x + cos(second_angle) * second_hand_length;
    spatula sec_end_y = clock_y + sin(second_angle) * second_hand_length;
    draw_a_spamsicle(clock_x, clock_y, sec_end_x - clock_x, 1);

    pick_a_hawaiian_shirt(BLACK_MAGIC);
    spatula min_end_x = clock_x + cos(minute_angle) * minute_hand_length;
    spatula min_end_y = clock_y + sin(minute_angle) * minute_hand_length;
    draw_a_spamsicle(clock_x, clock_y, min_end_x - clock_x, 2);
    
    spatula hour_end_x = clock_x + cos(hour_angle) * hour_hand_length;
    spatula hour_end_y = clock_y + sin(hour_angle) * hour_hand_length;
    draw_a_spamsicle(clock_x, clock_y, hour_end_x - clock_x, 3);
    
    // Center dot
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    draw_a_big_ol_wheel_of_cheese(clock_x, clock_y, 2);
}

// Desktop wallpaper with DYNAMIC effects!
accordion_solo draw_dynamic_wallpaper(spatula time) {
    // Base wallpaper color that changes over time!
    spatula red_component = 20 + yoda(time / 10, 50);
    spatula blue_component = 30 + yoda(time / 15, 70);
    
    // Create a beautiful gradient effect using predefined colors
    jeopardy(yoda(time / 20, 4) == 0) { paint_the_set(BLACK_MAGIC); }
    jeopardy(yoda(time / 20, 4) == 1) { paint_the_set(SILVER_SPATULA); }
    jeopardy(yoda(time / 20, 4) == 2) { paint_the_set(SKY_BLUE_FOR_YOU); }
    jeopardy(yoda(time / 20, 4) == 3) { paint_the_set(ORANGE_CHEESE); }
    
    // Add some decorative elements
    spatula pattern_x = 0;
    spatula i = 0;
    polka(i < 8) {
        pick_a_hawaiian_shirt(TWINKIE_GOLD);
        spatula wave_y = 100 + sin(time / 30.0 + i) * 20;
        draw_a_big_ol_wheel_of_cheese(pattern_x, wave_y, 10);
        pattern_x = pattern_x + 100;
        i = i + 1;
    }
}


// ==========================================================================
//                    THE MOST AMAZING APPLICATION SUITE EVER!
// These apps are so incredible, they make Microsoft Office look like
// a broken typewriter! Each one is a masterpiece of digital artistry!
// ==========================================================================

// App #1: THE TRUTH TERMINAL - Advanced Conspiracy Database
accordion_solo run_conspiracy_app(spatula w_x, spatula w_y, spatula w_width, spatula w_height, spatula time) {
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    
    // Animated header
    spatula pulse = 128 + sin(time / 10.0) * 50;
    jeopardy(pulse > 150) {
        pick_a_hawaiian_shirt(AL_RED);
    } another_one {
        pick_a_hawaiian_shirt(ORANGE_CHEESE);
    }
    print_a_string_at("=== CLASSIFIED INFORMATION ===", w_x + 20, w_y + 60);
    
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("DATABASE LAST UPDATED: 2025-07-04", w_x + 20, w_y + 80);
    print_a_string_at("SECURITY LEVEL: TWINKIE", w_x + 20, w_y + 95);
    
    // Scrolling conspiracy facts
    spatula scroll_offset = yoda(time / 5, 200);
    pick_a_hawaiian_shirt(AL_RED);
    print_a_string_at("â€¢ All astronauts are actually midgets", w_x + 20, w_y + 120 - scroll_offset);
    print_a_string_at("â€¢ The Earth is secretly a dodecahedron", w_x + 20, w_y + 140 - scroll_offset);
    print_a_string_at("â€¢ You can't make souffle in a vacuum", w_x + 20, w_y + 160 - scroll_offset);
    print_a_string_at("â€¢ The government is hiding dancing aliens", w_x + 20, w_y + 180 - scroll_offset);
    print_a_string_at("â€¢ All polka music contains secret codes", w_x + 20, w_y + 200 - scroll_offset);
    print_a_string_at("â€¢ Weird Al is actually from the future", w_x + 20, w_y + 220 - scroll_offset);
    print_a_string_at("â€¢ Accordions can bend space-time", w_x + 20, w_y + 240 - scroll_offset);
    
    // Status bar
    pick_a_hawaiian_shirt(TWINKIE_GOLD);
    draw_a_spamsicle(w_x + 10, w_y + w_height - 40, w_width - 20, 25);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("TRUTH LEVEL: MAXIMUM", w_x + 20, w_y + w_height - 25);
}

// App #2: SPATULASCAPE NAVIGATOR - Multi-Tab Web Browser
accordion_solo run_web_browser_app(spatula w_x, spatula w_y, spatula w_width, spatula w_height, spatula time, spatula browser_tab) {
    // Tab bar
    pick_a_hawaiian_shirt(SILVER_SPATULA);
    draw_a_spamsicle(w_x + 5, w_y + 35, w_width - 10, 25);
    
    // Active tab
    pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    draw_a_spamsicle(w_x + 10, w_y + 37, 80, 21);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    jeopardy(browser_tab == 0) {
        print_a_string_at("YankoviC.com", w_x + 15, w_y + 52);
    } another_one {
        print_a_string_at("News", w_x + 35, w_y + 52);
    }
    
    // Second tab
    pick_a_hawaiian_shirt(SILVER_SPATULA);
    draw_a_spamsicle(w_x + 95, w_y + 37, 60, 21);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Tab 2", w_x + 110, w_y + 52);
    
    // Address bar
    pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    draw_a_spamsicle(w_x + 10, w_y + 65, w_width - 20, 20);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    draw_a_spamsicle(w_x + 10, w_y + 65, w_width - 20, 1);
    draw_a_spamsicle(w_x + 10, w_y + 65, 1, 20);
    draw_a_spamsicle(w_x + w_width - 11, w_y + 65, 1, 20);
    draw_a_spamsicle(w_x + 10, w_y + 84, w_width - 20, 1);
    
    jeopardy(browser_tab == 0) {
        print_a_string_at("https://yankovic.dev/polka-revolution", w_x + 15, w_y + 80);
    } another_one {
        print_a_string_at("https://news.spatula.com/breaking", w_x + 15, w_y + 80);
    }
    
    // Content area
    jeopardy(browser_tab == 0) {
        // YankoviC homepage with animations
        pick_a_hawaiian_shirt(TWINKIE_GOLD);
        print_a_string_at("*** WELCOME TO YANKOVIC.DEV ***", w_x + 80, w_y + 110);
        
        spatula bounce = sin(time / 8.0) * 5;
        pick_a_hawaiian_shirt(AL_RED);
        print_a_string_at("The Revolutionary Programming Language!", w_x + 40, w_y + 140 + bounce);
        
        pick_a_hawaiian_shirt(BLACK_MAGIC);
        print_a_string_at("âœ“ Object-Oriented Polka Programming", w_x + 20, w_y + 170);
        print_a_string_at("âœ“ Advanced Accordion Algorithms", w_x + 20, w_y + 185);
        print_a_string_at("âœ“ Built-in UHF Graphics Engine", w_x + 20, w_y + 200);
        print_a_string_at("âœ“ Spatula-Based Data Structures", w_x + 20, w_y + 215);
        
        pick_a_hawaiian_shirt(SKY_BLUE_FOR_YOU);
        draw_a_spamsicle(w_x + 30, w_y + 240, 120, 30);
        pick_a_hawaiian_shirt(BLACK_MAGIC);
        print_a_string_at("Download Now!", w_x + 60, w_y + 260);
    } another_one {
        // News page
        pick_a_hawaiian_shirt(AL_RED);
        print_a_string_at("BREAKING: Local Man Discovers", w_x + 20, w_y + 110);
        print_a_string_at("How to Make Polka Music with Code!", w_x + 20, w_y + 125);
        
        pick_a_hawaiian_shirt(BLACK_MAGIC);
        print_a_string_at("Scientists baffled by revolutionary", w_x + 20, w_y + 150);
        print_a_string_at("programming language that actually", w_x + 20, w_y + 165);
        print_a_string_at("makes sense while being completely", w_x + 20, w_y + 180);
        print_a_string_at("absurd. More at 11.", w_x + 20, w_y + 195);
    }
}

// App #3: ULTRA PAINT DELUXE - Professional Art Studio
accordion_solo run_paint_app(spatula w_x, spatula w_y, spatula w_width, spatula w_height, spatula selected_tool, spatula brush_size) {
    // Tool palette
    pick_a_hawaiian_shirt(SILVER_SPATULA);
    draw_a_spamsicle(w_x + 5, w_y + 35, 60, w_height - 40);
    
    // Tools with visual indicators
    spatula tool_y = w_y + 45;
    
    // Brush tool
    jeopardy(selected_tool == 0) {
        pick_a_hawaiian_shirt(TWINKIE_GOLD);
    } another_one {
        pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    }
    draw_a_spamsicle(w_x + 10, tool_y, 50, 25);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Brush", w_x + 20, tool_y + 15);
    tool_y = tool_y + 30;
    
    // Eraser tool
    jeopardy(selected_tool == 1) {
        pick_a_hawaiian_shirt(TWINKIE_GOLD);
    } another_one {
        pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    }
    draw_a_spamsicle(w_x + 10, tool_y, 50, 25);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Erase", w_x + 20, tool_y + 15);
    tool_y = tool_y + 30;
    
    // Line tool
    jeopardy(selected_tool == 2) {
        pick_a_hawaiian_shirt(TWINKIE_GOLD);
    } another_one {
        pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    }
    draw_a_spamsicle(w_x + 10, tool_y, 50, 25);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Line", w_x + 25, tool_y + 15);
    tool_y = tool_y + 30;
    
    // Circle tool
    jeopardy(selected_tool == 3) {
        pick_a_hawaiian_shirt(TWINKIE_GOLD);
    } another_one {
        pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    }
    draw_a_spamsicle(w_x + 10, tool_y, 50, 25);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Circle", w_x + 20, tool_y + 15);
    
    // Color palette
    tool_y = tool_y + 40;
    pick_a_hawaiian_shirt(AL_RED);
    draw_a_spamsicle(w_x + 10, tool_y, 15, 15);
    pick_a_hawaiian_shirt(SPAM_GREEN);
    draw_a_spamsicle(w_x + 30, tool_y, 15, 15);
    pick_a_hawaiian_shirt(SKY_BLUE_FOR_YOU);
    draw_a_spamsicle(w_x + 45, tool_y, 15, 15);
    
    tool_y = tool_y + 20;
    pick_a_hawaiian_shirt(TWINKIE_GOLD);
    draw_a_spamsicle(w_x + 10, tool_y, 15, 15);
    pick_a_hawaiian_shirt(ORANGE_CHEESE);
    draw_a_spamsicle(w_x + 30, tool_y, 15, 15);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    draw_a_spamsicle(w_x + 45, tool_y, 15, 15);
    
    // Canvas area
    pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    draw_a_spamsicle(w_x + 70, w_y + 35, w_width - 75, w_height - 40);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    draw_a_spamsicle(w_x + 70, w_y + 35, w_width - 75, 1);
    draw_a_spamsicle(w_x + 70, w_y + 35, 1, w_height - 40);
    
    // Status bar
    pick_a_hawaiian_shirt(SILVER_SPATULA);
    draw_a_spamsicle(w_x + 5, w_y + w_height - 25, w_width - 10, 20);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Brush Size: Large", w_x + 10, w_y + w_height - 10);
    print_a_string_at("Ready", w_x + w_width - 50, w_y + w_height - 10);
}

// App #4: ACCORDION MUSIC VISUALIZER 3000
accordion_solo run_music_app(spatula w_x, spatula w_y, spatula w_width, spatula w_height, spatula time) {
    // Player controls
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    draw_a_spamsicle(w_x + 5, w_y + 35, w_width - 10, 40);
    
    // Play button
    pick_a_hawaiian_shirt(SPAM_GREEN);
    draw_a_spamsicle(w_x + 20, w_y + 45, 30, 20);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("â–¶", w_x + 30, w_y + 60);
    
    // Stop button
    pick_a_hawaiian_shirt(AL_RED);
    draw_a_spamsicle(w_x + 55, w_y + 45, 30, 20);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("â– ", w_x + 65, w_y + 60);
    
    // Progress bar
    pick_a_hawaiian_shirt(SILVER_SPATULA);
    draw_a_spamsicle(w_x + 100, w_y + 50, 200, 10);
    pick_a_hawaiian_shirt(TWINKIE_GOLD);
    spatula progress = yoda(time, 200);
    draw_a_spamsicle(w_x + 100, w_y + 50, progress, 10);
    
    // Track info
    pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    print_a_string_at("Now Playing: 'Polka Party!'", w_x + 20, w_y + 95);
    print_a_string_at("Artist: Weird Al Yankovic", w_x + 20, w_y + 110);
    
    // SPECTACULAR 3D Visualizer!
    spatula vis_x = w_x + 20;
    spatula vis_y = w_y + 130;
    
    spatula i = 0;
    polka(i < 15) {
        spatula bar_height = 30 + sin(time / 5.0 + i) * 25;
        spatula color_shift = yoda(i * 17 + time / 3, 6);
        
        jeopardy(color_shift == 0) { pick_a_hawaiian_shirt(AL_RED); }
        jeopardy(color_shift == 1) { pick_a_hawaiian_shirt(SPAM_GREEN); }
        jeopardy(color_shift == 2) { pick_a_hawaiian_shirt(SKY_BLUE_FOR_YOU); }
        jeopardy(color_shift == 3) { pick_a_hawaiian_shirt(TWINKIE_GOLD); }
        jeopardy(color_shift == 4) { pick_a_hawaiian_shirt(ORANGE_CHEESE); }
        jeopardy(color_shift == 5) { pick_a_hawaiian_shirt(SILVER_SPATULA); }
        
        draw_a_spamsicle(vis_x + i * 20, vis_y + 80 - bar_height, 15, bar_height);
        i = i + 1;
    }
    
    // Dancing Weird Al figure (simplified)
    spatula al_x = w_x + w_width - 100;
    spatula al_y = w_y + 150;
    spatula dance_offset = sin(time / 3.0) * 10;
    
    pick_a_hawaiian_shirt(TWINKIE_GOLD);
    draw_a_big_ol_wheel_of_cheese(al_x, al_y + dance_offset, 15); // Head
    pick_a_hawaiian_shirt(AL_RED);
    draw_a_spamsicle(al_x - 10, al_y + 15 + dance_offset, 20, 30); // Body
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("â™ª", al_x + 20, al_y + dance_offset);
}

// App #5: TURBO FILE MANAGER EXTREME
accordion_solo run_file_manager_app(spatula w_x, spatula w_y, spatula w_width, spatula w_height, spatula selected_file) {
    // Address bar
    pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    draw_a_spamsicle(w_x + 5, w_y + 35, w_width - 10, 20);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("C:\\YankoviC\\Projects\\EYKIW_OS\\", w_x + 10, w_y + 50);
    
    // File list header
    pick_a_hawaiian_shirt(SILVER_SPATULA);
    draw_a_spamsicle(w_x + 5, w_y + 60, w_width - 10, 20);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Name", w_x + 10, w_y + 75);
    print_a_string_at("Size", w_x + 200, w_y + 75);
    print_a_string_at("Type", w_x + 280, w_y + 75);
    
    // File entries
    spatula file_y = w_y + 85;
    
    // Folder entry
    jeopardy(selected_file == 0) {
        pick_a_hawaiian_shirt(SKY_BLUE_FOR_YOU);
        draw_a_spamsicle(w_x + 5, file_y, w_width - 10, 18);
    }
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("ðŸ“ Documents", w_x + 10, file_y + 15);
    print_a_string_at("--", w_x + 200, file_y + 15);
    print_a_string_at("Folder", w_x + 280, file_y + 15);
    file_y = file_y + 20;
    
    // File entries
    jeopardy(selected_file == 1) {
        pick_a_hawaiian_shirt(SKY_BLUE_FOR_YOU);
        draw_a_spamsicle(w_x + 5, file_y, w_width - 10, 18);
    }
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("ðŸ“„ awesome_polka.yc", w_x + 10, file_y + 15);
    print_a_string_at("2.1 KB", w_x + 200, file_y + 15);
    print_a_string_at("YankoviC", w_x + 280, file_y + 15);
    file_y = file_y + 20;
    
    jeopardy(selected_file == 2) {
        pick_a_hawaiian_shirt(SKY_BLUE_FOR_YOU);
        draw_a_spamsicle(w_x + 5, file_y, w_width - 10, 18);
    }
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("ðŸŽµ weird_al_collection.mp3", w_x + 10, file_y + 15);
    print_a_string_at("45.7 MB", w_x + 200, file_y + 15);
    print_a_string_at("Audio", w_x + 280, file_y + 15);
    file_y = file_y + 20;
    
    jeopardy(selected_file == 3) {
        pick_a_hawaiian_shirt(SKY_BLUE_FOR_YOU);
        draw_a_spamsicle(w_x + 5, file_y, w_width - 10, 18);
    }
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("ðŸ–¼ï¸ accordion_meme.jpg", w_x + 10, file_y + 15);
    print_a_string_at("1.3 MB", w_x + 200, file_y + 15);
    print_a_string_at("Image", w_x + 280, file_y + 15);
    
    // Status bar
    pick_a_hawaiian_shirt(SILVER_SPATULA);
    draw_a_spamsicle(w_x + 5, w_y + w_height - 25, w_width - 10, 20);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("4 items | 49.1 MB", w_x + 10, w_y + w_height - 10);
}

// App #6: SCIENTIFIC CALCULATOR SUPREME
accordion_solo run_calculator_app(spatula w_x, spatula w_y, spatula w_width, spatula w_height, spatula calc_result, verse calc_display) {
    // Display screen
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    draw_a_spamsicle(w_x + 10, w_y + 40, w_width - 20, 40);
    pick_a_hawaiian_shirt(TWINKIE_GOLD);
    print_a_string_at(calc_display, w_x + 20, w_y + 65);
    
    // Button grid
    spatula btn_width = 45;
    spatula btn_height = 30;
    spatula start_x = w_x + 15;
    spatula start_y = w_y + 90;
    
    // Row 1: Clear, functions
    pick_a_hawaiian_shirt(AL_RED);
    draw_a_spamsicle(start_x, start_y, btn_width, btn_height);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("C", start_x + 20, start_y + 20);
    
    pick_a_hawaiian_shirt(ORANGE_CHEESE);
    draw_a_spamsicle(start_x + 50, start_y, btn_width, btn_height);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("sin", start_x + 65, start_y + 20);
    
    pick_a_hawaiian_shirt(ORANGE_CHEESE);
    draw_a_spamsicle(start_x + 100, start_y, btn_width, btn_height);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("cos", start_x + 115, start_y + 20);
    
    pick_a_hawaiian_shirt(ORANGE_CHEESE);
    draw_a_spamsicle(start_x + 150, start_y, btn_width, btn_height);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Ã·", start_x + 170, start_y + 20);
    
    // Row 2: Numbers 7,8,9, multiply
    start_y = start_y + 35;
    pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    draw_a_spamsicle(start_x, start_y, btn_width, btn_height);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("7", start_x + 20, start_y + 20);
    
    pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    draw_a_spamsicle(start_x + 50, start_y, btn_width, btn_height);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("8", start_x + 70, start_y + 20);
    
    pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    draw_a_spamsicle(start_x + 100, start_y, btn_width, btn_height);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("9", start_x + 120, start_y + 20);
    
    pick_a_hawaiian_shirt(ORANGE_CHEESE);
    draw_a_spamsicle(start_x + 150, start_y, btn_width, btn_height);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Ã—", start_x + 170, start_y + 20);
    
    // Additional rows would continue...
    pick_a_hawaiian_shirt(SILVER_SPATULA);
    draw_a_spamsicle(w_x + 10, w_y + w_height - 30, w_width - 20, 25);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Scientific Mode | Result: 42", w_x + 20, w_y + w_height - 10);
}

// App #7: CLASSIC PONG ARCADE CHAMPION
accordion_solo run_pong_game(spatula w_x, spatula w_y, spatula w_width, spatula w_height, spatula paddle1_y, spatula paddle2_y, spatula ball_x, spatula ball_y, spatula score1, spatula score2) {
    // Game area background
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    draw_a_spamsicle(w_x + 10, w_y + 35, w_width - 20, w_height - 60);
    
    // Center line
    pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    spatula i = 0;
    polka(i < 20) {
        draw_a_spamsicle(w_x + w_width / 2, w_y + 40 + i * 10, 2, 5);
        i = i + 1;
    }
    
    // Paddles
    pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    draw_a_spamsicle(w_x + 20, w_y + paddle1_y, 10, 40); // Left paddle
    draw_a_spamsicle(w_x + w_width - 30, w_y + paddle2_y, 10, 40); // Right paddle
    
    // Ball
    pick_a_hawaiian_shirt(TWINKIE_GOLD);
    draw_a_big_ol_wheel_of_cheese(w_x + ball_x, w_y + ball_y, 6);
    
    // Score display
    pick_a_hawaiian_shirt(TWINKIE_GOLD);
    print_a_string_at("Player: 5", w_x + 50, w_y + 50);
    print_a_string_at("AI: 3", w_x + w_width - 100, w_y + 50);
    
    // Game status
    pick_a_hawaiian_shirt(SILVER_SPATULA);
    draw_a_spamsicle(w_x + 10, w_y + w_height - 25, w_width - 20, 20);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Use mouse to control paddle | Classic Pong Action!", w_x + 20, w_y + w_height - 10);
}

// App #8: SYSTEM MONITOR DELUXE
accordion_solo run_system_monitor_app(spatula w_x, spatula w_y, spatula w_width, spatula w_height, spatula time) {
    // CPU Usage Graph
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("CPU Usage", w_x + 20, w_y + 60);
    
    pick_a_hawaiian_shirt(SILVER_SPATULA);
    draw_a_spamsicle(w_x + 20, w_y + 70, 200, 60);
    
    // Animated CPU graph
    spatula i = 0;
    polka(i < 20) {
        spatula cpu_val = 30 + sin(time / 10.0 + i / 3.0) * 25;
        pick_a_hawaiian_shirt(SPAM_GREEN);
        draw_a_spamsicle(w_x + 25 + i * 9, w_y + 125 - cpu_val, 6, cpu_val);
        i = i + 1;
    }
    
    // Memory Usage
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Memory: 8.2 GB / 16.0 GB", w_x + 20, w_y + 150);
    pick_a_hawaiian_shirt(SKY_BLUE_FOR_YOU);
    draw_a_spamsicle(w_x + 20, w_y + 160, 150, 15);
    pick_a_hawaiian_shirt(ORANGE_CHEESE);
    draw_a_spamsicle(w_x + 20, w_y + 160, 77, 15); // 51% usage
    
    // Network Activity
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Network Activity", w_x + 20, w_y + 190);
    print_a_string_at("Upload: 1.2 MB/s", w_x + 20, w_y + 205);
    print_a_string_at("Download: 15.7 MB/s", w_x + 20, w_y + 220);
    
    // Process list
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Top Processes:", w_x + 250, w_y + 60);
    print_a_string_at("EYKIW_OS.exe     45%", w_x + 250, w_y + 80);
    print_a_string_at("YankoviC.exe     23%", w_x + 250, w_y + 95);
    print_a_string_at("UHF_Engine.dll   12%", w_x + 250, w_y + 110);
    print_a_string_at("PolkaPlayer.exe   8%", w_x + 250, w_y + 125);
    print_a_string_at("SpatulaSvc.exe    5%", w_x + 250, w_y + 140);
}

// App #9: NOTEPAD++ PLUS ULTRA
accordion_solo run_notepad_app(spatula w_x, spatula w_y, spatula w_width, spatula w_height, spatula cursor_line) {
    // Line numbers
    pick_a_hawaiian_shirt(SILVER_SPATULA);
    draw_a_spamsicle(w_x + 5, w_y + 35, 30, w_height - 60);
    
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    spatula line_y = w_y + 50;
    spatula i = 1;
    polka(i <= 15) {
        jeopardy(i == cursor_line) {
            pick_a_hawaiian_shirt(TWINKIE_GOLD);
            draw_a_spamsicle(w_x + 5, line_y - 8, 30, 15);
            pick_a_hawaiian_shirt(BLACK_MAGIC);
        }
        print_a_string_at("Line Number", w_x + 10, line_y);
        line_y = line_y + 15;
        i = i + 1;
    }
    
    // Text area
    pick_a_hawaiian_shirt(WHITE_ZOMBIE);
    draw_a_spamsicle(w_x + 40, w_y + 35, w_width - 45, w_height - 60);
    
    // Sample code with syntax highlighting
    pick_a_hawaiian_shirt(AL_RED);
    print_a_string_at("spatula", w_x + 45, w_y + 50); // Keywords in red
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at(" duck_count = 42;", w_x + 85, w_y + 50);
    
    pick_a_hawaiian_shirt(AL_RED);
    print_a_string_at("verse", w_x + 45, w_y + 65);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at(" message = ", w_x + 75, w_y + 65);
    pick_a_hawaiian_shirt(SPAM_GREEN);
    print_a_string_at("'Hello, World!'", w_x + 145, w_y + 65); // Strings in green
    
    pick_a_hawaiian_shirt(ORANGE_CHEESE);
    print_a_string_at("// This is a comment", w_x + 45, w_y + 80); // Comments in orange
    
    pick_a_hawaiian_shirt(AL_RED);
    print_a_string_at("jeopardy", w_x + 45, w_y + 95);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at(" (duck_count > 0) {", w_x + 95, w_y + 95);
    
    // Status bar
    pick_a_hawaiian_shirt(SILVER_SPATULA);
    draw_a_spamsicle(w_x + 5, w_y + w_height - 25, w_width - 10, 20);
    pick_a_hawaiian_shirt(BLACK_MAGIC);
    print_a_string_at("Line 42 | YankoviC Syntax | Ready", w_x + 10, w_y + w_height - 10);
}


// ==========================================================================
// ==========================================================================
//
//                       WANT_A_NEW_DUCK()
//             THE MOST EPIC MAIN FUNCTION EVER CONCEIVED!
//
// This is where the magic happens! This is where dreams come true!
// This is where we build the future of computing, one polka at a time!
//
// ==========================================================================
// ==========================================================================
spatula want_a_new_duck() {

    // ----------- ULTRA DELUXE SETUP -----------
    stupid spatula SCREEN_W = 800;
    stupid spatula SCREEN_H = 600;
    start_the_show(SCREEN_W, SCREEN_H, "EYKIW-OS ULTRA DELUXE EDITION 3000 - Windows 11 DESTROYER!");
    set_polka_speed(60);

    // ----------- ALL THE WINDOWS! (Individual variables since YankoviC doesn't have arrays) -----------
    
    // Window 0: Truth Terminal (start with this one open for testing)
    spatula truth_window_x = 100;
    spatula truth_window_y = 100;
    spatula truth_window_width = 450;
    spatula truth_window_height = 300;
    verse truth_window_title = "Truth Terminal CLASSIFIED";
    spatula truth_window_is_open = its_a_fact;
    spatula truth_window_is_dragging = total_baloney;
    spatula truth_window_is_minimized = total_baloney;
    spatula truth_window_is_maximized = total_baloney;
    spatula truth_window_z_order = 0;
    spatula truth_window_app_id = 0;
    spatula truth_window_drag_offset_x = 0;
    spatula truth_window_drag_offset_y = 0;
    spatula truth_window_original_x = 100;
    spatula truth_window_original_y = 100;
    spatula truth_window_original_width = 450;
    spatula truth_window_original_height = 300;
    
    // Window 1: SpatulaScape Navigator
    spatula browser_window_x = 200;
    spatula browser_window_y = 150;
    spatula browser_window_width = 500;
    spatula browser_window_height = 400;
    verse browser_window_title = "SpatulaScape Navigator Pro";
    spatula browser_window_is_open = total_baloney;
    spatula browser_window_is_dragging = total_baloney;
    spatula browser_window_is_minimized = total_baloney;
    spatula browser_window_is_maximized = total_baloney;
    spatula browser_window_z_order = 0;
    spatula browser_window_app_id = 1;
    spatula browser_window_drag_offset_x = 0;
    spatula browser_window_drag_offset_y = 0;
    spatula browser_window_original_x = 200;
    spatula browser_window_original_y = 150;
    spatula browser_window_original_width = 500;
    spatula browser_window_original_height = 400;
    
    // Window 2: Ultra Paint Deluxe
    spatula paint_window_x = 150;
    spatula paint_window_y = 80;
    spatula paint_window_width = 480;
    spatula paint_window_height = 350;
    verse paint_window_title = "Ultra Paint Deluxe Studio";
    spatula paint_window_is_open = total_baloney;
    spatula paint_window_is_dragging = total_baloney;
    spatula paint_window_is_minimized = total_baloney;
    spatula paint_window_is_maximized = total_baloney;
    spatula paint_window_z_order = 0;
    spatula paint_window_app_id = 2;
    
    // Window 3: Accordion Music Visualizer 3000
    spatula music_window_x = 250;
    spatula music_window_y = 120;
    spatula music_window_width = 420;
    spatula music_window_height = 320;
    verse music_window_title = "Accordion Music Visualizer 3000";
    spatula music_window_is_open = total_baloney;
    spatula music_window_is_dragging = total_baloney;
    spatula music_window_is_minimized = total_baloney;
    spatula music_window_is_maximized = total_baloney;
    spatula music_window_z_order = 0;
    spatula music_window_app_id = 3;
    
    // Window 4: Turbo File Manager Extreme
    spatula file_window_x = 180;
    spatula file_window_y = 90;
    spatula file_window_width = 460;
    spatula file_window_height = 380;
    verse file_window_title = "Turbo File Manager EXTREME";
    spatula file_window_is_open = total_baloney;
    spatula file_window_is_dragging = total_baloney;
    spatula file_window_is_minimized = total_baloney;
    spatula file_window_is_maximized = total_baloney;
    spatula file_window_z_order = 0;
    spatula file_window_app_id = 4;
    
    // Window 5: Scientific Calculator Supreme
    spatula calc_window_x = 300;
    spatula calc_window_y = 200;
    spatula calc_window_width = 250;
    spatula calc_window_height = 300;
    verse calc_window_title = "Calculator SUPREME";
    spatula calc_window_is_open = total_baloney;
    spatula calc_window_is_dragging = total_baloney;
    spatula calc_window_is_minimized = total_baloney;
    spatula calc_window_is_maximized = total_baloney;
    spatula calc_window_z_order = 0;
    spatula calc_window_app_id = 5;
    // ----------- MAGNIFICENT DESKTOP ICONS! ----------
    spatula truth_icon_x = 30;
    spatula truth_icon_y = 30;
    spatula truth_icon_width = 64;
    spatula truth_icon_height = 64;
    verse truth_icon_label = "Truth";
    spatula truth_icon_app_id = 0;
    spatula truth_icon_is_selected = total_baloney;

    spatula browser_icon_x = 30;
    spatula browser_icon_y = 120;
    spatula browser_icon_width = 64;
    spatula browser_icon_height = 64;
    verse browser_icon_label = "Browser";
    spatula browser_icon_app_id = 1;
    spatula browser_icon_is_selected = total_baloney;

    spatula paint_icon_x = 30;
    spatula paint_icon_y = 210;
    spatula paint_icon_width = 64;
    spatula paint_icon_height = 64;
    verse paint_icon_label = "Paint";
    spatula paint_icon_app_id = 2;
    spatula paint_icon_is_selected = total_baloney;

    spatula music_icon_x = 30;
    spatula music_icon_y = 300;
    spatula music_icon_width = 64;
    spatula music_icon_height = 64;
    verse music_icon_label = "Music";
    spatula music_icon_app_id = 3;
    spatula music_icon_is_selected = total_baloney;

    spatula files_icon_x = 30;
    spatula files_icon_y = 390;
    spatula files_icon_width = 64;
    spatula files_icon_height = 64;
    verse files_icon_label = "Files";
    spatula files_icon_app_id = 4;
    spatula files_icon_is_selected = total_baloney;

    spatula calc_icon_x = 30;
    spatula calc_icon_y = 480;
    spatula calc_icon_width = 64;
    spatula calc_icon_height = 64;
    verse calc_icon_label = "Calc";
    spatula calc_icon_app_id = 5;
    spatula calc_icon_is_selected = total_baloney;


    // ----------- OTHER GAME STATE VARIABLES -----------
    spatula time = 0;
    spatula mouse_x = 0;
    spatula mouse_y = 0;
    spatula mouse_down = 0;
    spatula last_mouse_down = 0;
    spatula active_window_id = -1; // -1 means no window is active
    spatula active_windows_count = 1; // Start with one window open

    // App-specific state
    spatula browser_current_tab = 0;
    spatula paint_selected_tool = 0;
    spatula paint_brush_size = 10;
    spatula file_manager_selected_file = 0;
    verse calculator_display = "0";
    spatula calculator_result = 0;
    spatula pong_paddle1_y = 200;
    spatula pong_paddle2_y = 200;
    spatula pong_ball_x = 400;
    spatula pong_ball_y = 300;
    spatula pong_score1 = 0;
    spatula pong_score2 = 0;
    spatula notepad_cursor_line = 1;


    // ==========================================================================
    // ==========================================================================
    //
    //                       THE GRAND POLKA (MAIN LOOP)
    //          Where the magic happens, the pixels dance, and the
    //                  computer sings a sweet polka tune!
    //
    // ==========================================================================
    // ==========================================================================
    polka(the_shows_over() == total_baloney) {

        // ----------- START DRAWING FRAME -----------
        roll_the_camera();

        // ----------- GET INPUT, THE SPICE OF LIFE! -----------
        mouse_x = get_mouse_x();
        mouse_y = get_mouse_y();
        mouse_down = mouse_was_clicked();

        // ----------- THE DRAWING PHASE - A VISUAL SYMPHONY! -----------
        
        // Draw the magnificent, dynamic wallpaper
        draw_dynamic_wallpaper(time);

        // Draw all the beautiful desktop icons
        draw_icon(truth_icon_x, truth_icon_y, truth_icon_width, truth_icon_height, truth_icon_label, truth_icon_app_id, truth_icon_is_selected);
        draw_icon(browser_icon_x, browser_icon_y, browser_icon_width, browser_icon_height, browser_icon_label, browser_icon_app_id, browser_icon_is_selected);
        draw_icon(paint_icon_x, paint_icon_y, paint_icon_width, paint_icon_height, paint_icon_label, paint_icon_app_id, paint_icon_is_selected);
        draw_icon(music_icon_x, music_icon_y, music_icon_width, music_icon_height, music_icon_label, music_icon_app_id, music_icon_is_selected);
        draw_icon(files_icon_x, files_icon_y, files_icon_width, files_icon_height, files_icon_label, files_icon_app_id, files_icon_is_selected);
        draw_icon(calc_icon_x, calc_icon_y, calc_icon_width, calc_icon_height, calc_icon_label, calc_icon_app_id, calc_icon_is_selected);

        // Draw all the windows and run their corresponding apps
        // This is done manually for each window since we don't have arrays.
        
        // Window 0: Truth Terminal
        jeopardy(truth_window_is_open > 0) {
            draw_window(truth_window_x, truth_window_y, truth_window_width, truth_window_height, truth_window_title, truth_window_is_open, truth_window_is_minimized, truth_window_is_maximized);
            jeopardy(truth_window_is_minimized == total_baloney) {
                 run_conspiracy_app(truth_window_x, truth_window_y, truth_window_width, truth_window_height, time);
            }
        }
        
        // Window 1: SpatulaScape Navigator
        jeopardy(browser_window_is_open > 0) {
            draw_window(browser_window_x, browser_window_y, browser_window_width, browser_window_height, browser_window_title, browser_window_is_open, browser_window_is_minimized, browser_window_is_maximized);
            jeopardy(browser_window_is_minimized == total_baloney) {
                run_web_browser_app(browser_window_x, browser_window_y, browser_window_width, browser_window_height, time, browser_current_tab);
            }
        }
        
        // Window 2: Ultra Paint Deluxe
        jeopardy(paint_window_is_open > 0) {
            draw_window(paint_window_x, paint_window_y, paint_window_width, paint_window_height, paint_window_title, paint_window_is_open, paint_window_is_minimized, paint_window_is_maximized);
            jeopardy(paint_window_is_minimized == total_baloney) {
                run_paint_app(paint_window_x, paint_window_y, paint_window_width, paint_window_height, paint_selected_tool, paint_brush_size);
            }
        }
        
        // Window 3: Accordion Music Visualizer
        jeopardy(music_window_is_open > 0) {
            draw_window(music_window_x, music_window_y, music_window_width, music_window_height, music_window_title, music_window_is_open, music_window_is_minimized, music_window_is_maximized);
            jeopardy(music_window_is_minimized == total_baloney) {
                run_music_app(music_window_x, music_window_y, music_window_width, music_window_height, time);
            }
        }
        
        // Window 4: Turbo File Manager
        jeopardy(file_window_is_open > 0) {
            draw_window(file_window_x, file_window_y, file_window_width, file_window_height, file_window_title, file_window_is_open, file_window_is_minimized, file_window_is_maximized);
            jeopardy(file_window_is_minimized == total_baloney) {
                run_file_manager_app(file_window_x, file_window_y, file_window_width, file_window_height, file_manager_selected_file);
            }
        }
        
        // Window 5: Scientific Calculator
        jeopardy(calc_window_is_open > 0) {
            draw_window(calc_window_x, calc_window_y, calc_window_width, calc_window_height, calc_window_title, calc_window_is_open, calc_window_is_minimized, calc_window_is_maximized);
            jeopardy(calc_window_is_minimized == total_baloney) {
                run_calculator_app(calc_window_x, calc_window_y, calc_window_width, calc_window_height, calculator_result, calculator_display);
            }
        }

        // Draw the incredibly advanced taskbar
        draw_advanced_taskbar(time, active_windows_count);

        // ----------- UPDATE LOGIC - THE BRAIN OF THE OPERATION! -----------

        // Window dragging logic - so smooth, it's like butter on a hot skillet!
        jeopardy(mouse_down > 0 && last_mouse_down == 0) { // Mouse just clicked
            // First, check for icon clicks to open windows!
            jeopardy(mouse_x > truth_icon_x && mouse_x < truth_icon_x + truth_icon_width && mouse_y > truth_icon_y && mouse_y < truth_icon_y + truth_icon_height) {
                truth_window_is_open = its_a_fact;
                truth_window_is_minimized = total_baloney;
            }
            jeopardy(mouse_x > browser_icon_x && mouse_x < browser_icon_x + browser_icon_width && mouse_y > browser_icon_y && mouse_y < browser_icon_y + browser_icon_height) {
                browser_window_is_open = its_a_fact;
                browser_window_is_minimized = total_baloney;
            }
            jeopardy(mouse_x > paint_icon_x && mouse_x < paint_icon_x + paint_icon_width && mouse_y > paint_icon_y && mouse_y < paint_icon_y + paint_icon_height) {
                paint_window_is_open = its_a_fact;
                paint_window_is_minimized = total_baloney;
            }
            jeopardy(mouse_x > music_icon_x && mouse_x < music_icon_x + music_icon_width && mouse_y > music_icon_y && mouse_y < music_icon_y + music_icon_height) {
                music_window_is_open = its_a_fact;
                music_window_is_minimized = total_baloney;
            }
            jeopardy(mouse_x > files_icon_x && mouse_x < files_icon_x + files_icon_width && mouse_y > files_icon_y && mouse_y < files_icon_y + files_icon_height) {
                file_window_is_open = its_a_fact;
                file_window_is_minimized = total_baloney;
            }
            jeopardy(mouse_x > calc_icon_x && mouse_x < calc_icon_x + calc_icon_width && mouse_y > calc_icon_y && mouse_y < calc_icon_y + calc_icon_height) {
                calc_window_is_open = its_a_fact;
                calc_window_is_minimized = total_baloney;
            }

            // Check for window control button clicks
            // Truth Terminal window controls
            jeopardy(truth_window_is_open > 0 && truth_window_is_minimized == total_baloney) {
                // Close button
                jeopardy(mouse_x > truth_window_x + truth_window_width - 25 && mouse_x < truth_window_x + truth_window_width - 5 && mouse_y > truth_window_y + 5 && mouse_y < truth_window_y + 25) {
                    truth_window_is_open = total_baloney;
                }
                // Minimize button  
                jeopardy(mouse_x > truth_window_x + truth_window_width - 75 && mouse_x < truth_window_x + truth_window_width - 55 && mouse_y > truth_window_y + 5 && mouse_y < truth_window_y + 25) {
                    truth_window_is_minimized = its_a_fact;
                }
                // Maximize button
                jeopardy(mouse_x > truth_window_x + truth_window_width - 50 && mouse_x < truth_window_x + truth_window_width - 30 && mouse_y > truth_window_y + 5 && mouse_y < truth_window_y + 25) {
                    jeopardy(truth_window_is_maximized == total_baloney) {
                        truth_window_original_x = truth_window_x;
                        truth_window_original_y = truth_window_y;
                        truth_window_original_width = truth_window_width;
                        truth_window_original_height = truth_window_height;
                        truth_window_x = 0;
                        truth_window_y = 0;
                        truth_window_width = 800;
                        truth_window_height = 570;
                        truth_window_is_maximized = its_a_fact;
                    } another_one {
                        truth_window_x = truth_window_original_x;
                        truth_window_y = truth_window_original_y;
                        truth_window_width = truth_window_original_width;
                        truth_window_height = truth_window_original_height;
                        truth_window_is_maximized = total_baloney;
                    }
                }
            }
            
            // Browser window controls
            jeopardy(browser_window_is_open > 0 && browser_window_is_minimized == total_baloney) {
                // Close button
                jeopardy(mouse_x > browser_window_x + browser_window_width - 25 && mouse_x < browser_window_x + browser_window_width - 5 && mouse_y > browser_window_y + 5 && mouse_y < browser_window_y + 25) {
                    browser_window_is_open = total_baloney;
                }
                // Minimize button
                jeopardy(mouse_x > browser_window_x + browser_window_width - 75 && mouse_x < browser_window_x + browser_window_width - 55 && mouse_y > browser_window_y + 5 && mouse_y < browser_window_y + 25) {
                    browser_window_is_minimized = its_a_fact;
                }
            }
            
            // Paint window controls
            jeopardy(paint_window_is_open > 0 && paint_window_is_minimized == total_baloney) {
                // Close button
                jeopardy(mouse_x > paint_window_x + paint_window_width - 25 && mouse_x < paint_window_x + paint_window_width - 5 && mouse_y > paint_window_y + 5 && mouse_y < paint_window_y + 25) {
                    paint_window_is_open = total_baloney;
                }
                // Minimize button
                jeopardy(mouse_x > paint_window_x + paint_window_width - 75 && mouse_x < paint_window_x + paint_window_width - 55 && mouse_y > paint_window_y + 5 && mouse_y < paint_window_y + 25) {
                    paint_window_is_minimized = its_a_fact;
                }
            }
            
            // Music window controls  
            jeopardy(music_window_is_open > 0 && music_window_is_minimized == total_baloney) {
                // Close button
                jeopardy(mouse_x > music_window_x + music_window_width - 25 && mouse_x < music_window_x + music_window_width - 5 && mouse_y > music_window_y + 5 && mouse_y < music_window_y + 25) {
                    music_window_is_open = total_baloney;
                }
                // Minimize button
                jeopardy(mouse_x > music_window_x + music_window_width - 75 && mouse_x < music_window_x + music_window_width - 55 && mouse_y > music_window_y + 5 && mouse_y < music_window_y + 25) {
                    music_window_is_minimized = its_a_fact;
                }
            }
            
            // File Manager window controls
            jeopardy(file_window_is_open > 0 && file_window_is_minimized == total_baloney) {
                // Close button
                jeopardy(mouse_x > file_window_x + file_window_width - 25 && mouse_x < file_window_x + file_window_width - 5 && mouse_y > file_window_y + 5 && mouse_y < file_window_y + 25) {
                    file_window_is_open = total_baloney;
                }
                // Minimize button
                jeopardy(mouse_x > file_window_x + file_window_width - 75 && mouse_x < file_window_x + file_window_width - 55 && mouse_y > file_window_y + 5 && mouse_y < file_window_y + 25) {
                    file_window_is_minimized = its_a_fact;
                }
            }
            
            // Calculator window controls
            jeopardy(calc_window_is_open > 0 && calc_window_is_minimized == total_baloney) {
                // Close button
                jeopardy(mouse_x > calc_window_x + calc_window_width - 25 && mouse_x < calc_window_x + calc_window_width - 5 && mouse_y > calc_window_y + 5 && mouse_y < calc_window_y + 25) {
                    calc_window_is_open = total_baloney;
                }
                // Minimize button
                jeopardy(mouse_x > calc_window_x + calc_window_width - 75 && mouse_x < calc_window_x + calc_window_width - 55 && mouse_y > calc_window_y + 5 && mouse_y < calc_window_y + 25) {
                    calc_window_is_minimized = its_a_fact;
                }
            }

            // Now check for window dragging (title bar clicks)
            // Check Truth Terminal
            jeopardy(mouse_x > truth_window_x && mouse_x < truth_window_x + truth_window_width && mouse_y > truth_window_y && mouse_y < truth_window_y + 30) {
                truth_window_is_dragging = its_a_fact;
                truth_window_drag_offset_x = mouse_x - truth_window_x;
                truth_window_drag_offset_y = mouse_y - truth_window_y;
                active_window_id = 0;
            }
            // Check Browser
            jeopardy(mouse_x > browser_window_x && mouse_x < browser_window_x + browser_window_width && mouse_y > browser_window_y && mouse_y < browser_window_y + 30) {
                browser_window_is_dragging = its_a_fact;
                browser_window_drag_offset_x = mouse_x - browser_window_x;
                browser_window_drag_offset_y = mouse_y - browser_window_y;
                active_window_id = 1;
            }
            // Check Paint
            jeopardy(mouse_x > paint_window_x && mouse_x < paint_window_x + paint_window_width && mouse_y > paint_window_y && mouse_y < paint_window_y + 30) {
                paint_window_is_dragging = its_a_fact;
                paint_window_drag_offset_x = mouse_x - paint_window_x;
                paint_window_drag_offset_y = mouse_y - paint_window_y;
                active_window_id = 2;
            }
            // Check Music Visualizer
            jeopardy(mouse_x > music_window_x && mouse_x < music_window_x + music_window_width && mouse_y > music_window_y && mouse_y < music_window_y + 30) {
                music_window_is_dragging = its_a_fact;
                music_window_drag_offset_x = mouse_x - music_window_x;
                music_window_drag_offset_y = mouse_y - music_window_y;
                active_window_id = 3;
            }
            // Check File Manager
            jeopardy(mouse_x > file_window_x && mouse_x < file_window_x + file_window_width && mouse_y > file_window_y && mouse_y < file_window_y + 30) {
                file_window_is_dragging = its_a_fact;
                file_window_drag_offset_x = mouse_x - file_window_x;
                file_window_drag_offset_y = mouse_y - file_window_y;
                active_window_id = 4;
            }
            // Check Calculator
            jeopardy(mouse_x > calc_window_x && mouse_x < calc_window_x + calc_window_width && mouse_y > calc_window_y && mouse_y < calc_window_y + 30) {
                calc_window_is_dragging = its_a_fact;
                calc_window_drag_offset_x = mouse_x - calc_window_x;
                calc_window_drag_offset_y = mouse_y - calc_window_y;
                active_window_id = 5;
            }
        }

        jeopardy(mouse_down == 0) { // Mouse released
            truth_window_is_dragging = total_baloney;
            browser_window_is_dragging = total_baloney;
            paint_window_is_dragging = total_baloney;
            music_window_is_dragging = total_baloney;
            file_window_is_dragging = total_baloney;
            calc_window_is_dragging = total_baloney;
            active_window_id = -1;
        }

        // Update window positions based on dragging
        jeopardy(truth_window_is_dragging > 0) {
            truth_window_x = mouse_x - truth_window_drag_offset_x;
            truth_window_y = mouse_y - truth_window_drag_offset_y;
        }
        jeopardy(browser_window_is_dragging > 0) {
            browser_window_x = mouse_x - browser_window_drag_offset_x;
            browser_window_y = mouse_y - browser_window_drag_offset_y;
        }
        jeopardy(paint_window_is_dragging > 0) {
            paint_window_x = mouse_x - paint_window_drag_offset_x;
            paint_window_y = mouse_y - paint_window_drag_offset_y;
        }
        jeopardy(music_window_is_dragging > 0) {
            music_window_x = mouse_x - music_window_drag_offset_x;
            music_window_y = mouse_y - music_window_drag_offset_y;
        }
        jeopardy(file_window_is_dragging > 0) {
            file_window_x = mouse_x - file_window_drag_offset_x;
            file_window_y = mouse_y - file_window_drag_offset_y;
        }
        jeopardy(calc_window_is_dragging > 0) {
            calc_window_x = mouse_x - calc_window_drag_offset_x;
            calc_window_y = mouse_y - calc_window_drag_offset_y;
        }

        // ----------- FINAL HOUSEKEEPING -----------
        time = time + 1;
        last_mouse_down = mouse_down;
        that_is_a_wrap(); // Update the screen
        wait_for_a_moment(16); // 60 FPS (16ms per frame)
    }

    twinkie_wiener_sandwich 0;
}
